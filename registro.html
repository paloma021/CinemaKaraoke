<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro - CinemaKaraoke</title>
</head>
<body>
  <h1>Registro</h1>
  <form id="registroForm" onsubmit="event.preventDefault(); guardarDatos();">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" required><br><br>
    <label for="apellido">Apellido:</label>
    <input type="text" id="apellido" name="apellido" required><br><br>
    <label for="email">Correo electrónico:</label>
    <input type="email" id="email" name="email" required><br><br>
    <label for="edad">Edad:</label>
    <input type="number" id="edad" name="edad" required><br><br>
    <label for="password">Contraseña:</label>
    <input type="password" id="password" name="password" required><br><br>
    <button type="submit">Registrarse</button>
  </form>

  <script type="module">
    // Importa las funciones necesarias de los SDK que necesitas
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

    // Configuración de tu aplicación web Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCLUOZSVllo4hrY6J6JtMoygOIeR_jJ8tM",
      authDomain: "cinemakaraoke-4b59d.firebaseapp.com",
      databaseURL: "https://cinemakaraoke-4b59d-default-rtdb.firebaseio.com",
      projectId: "cinemakaraoke-4b59d",
      storageBucket: "cinemakaraoke-4b59d.appspot.com",
      messagingSenderId: "1002920134862",
      appId: "1:1002920134862:web:d85c8453f8257a2204e89f",
      measurementId: "G-1B7C65QDG1"
    };

    // Inicializa Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    // Función para guardar los datos de registro en Firebase Realtime Database
    function guardarDatos() {
      const nombre = document.getElementById('nombre').value;
      const apellido = document.getElementById('apellido').value;
      const email = document.getElementById('email').value;
      const edad = document.getElementById('edad').value;
      const password = document.getElementById('password').value;

      // Obtén una referencia a la base de datos
      const database = getDatabase();

      // Guarda los datos en la base de datos
      push(ref(database, 'registros'), {
        nombre: nombre,
        apellido: apellido,
        email: email,
        edad: edad,
        password: password
      });

      alert('¡Registro exitoso!');
      // Puedes redirigir al usuario a otra página si lo deseas
    }
  </script>
</body>
</html>
